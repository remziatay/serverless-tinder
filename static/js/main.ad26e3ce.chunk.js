(this["webpackJsonpserverless-tinder"]=this["webpackJsonpserverless-tinder"]||[]).push([[0],{138:function(e,a,n){e.exports={Picture:"Picture_Picture__1x_s1",Container:"Picture_Container__3tI-N"}},185:function(e,a,n){e.exports=n(267)},190:function(e,a,n){},191:function(e,a,n){},192:function(e,a,n){},193:function(e,a,n){},266:function(e,a,n){},267:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),i=n(12),l=n.n(i),o=(n(190),n(191),n(192),n(102)),c=n(17),u=n(178),s=n(47),d=n(277),m=n(278),b=n(279),h=n(280),p=n(276),f=n(272),g=n(270),v=n(273),E=n(269),y=n(275),k=n(138),C=n.n(k);n(193);var O=r.a.memo((function(e){var a=Object(t.useState)(""),n=Object(s.a)(a,2),i=n[0],l=n[1],o=Object(t.useState)(!0),c=Object(s.a)(o,2),u=c[0],d=c[1];Object(t.useEffect)((function(){if(!e.disliked&&!e.liked)return d(!1);l("fade-out-to-".concat(e.liked?"right":"left"))}),[e.liked,e.disliked]);var m=e.newLink,b=Object(t.useCallback)((function(){d(!0),m()}),[m]),h=Object(t.useRef)(null),p=Object(t.useCallback)((function(e){h.current={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}}),[]),f=e.like,g=e.dislike,k=Object(t.useCallback)((function(e){var a=e.changedTouches[0].clientX-h.current.x,n=e.changedTouches[0].clientY-h.current.y;if(h.current=null,Math.abs(n)<window.innerHeight/30){var t=window.innerWidth/10;a>t?f():a<-t&&g()}}),[f,g]);return e.link&&r.a.createElement("div",{className:C.a.Picture,onTouchStart:p,onTouchEnd:k},r.a.createElement(y.a,{in:!e.liked&&!e.disliked,timeout:500,classNames:i,onExited:b},u?r.a.createElement("p",null,"\u263a"):r.a.createElement(v.a,{alt:"",className:C.a.Container,src:e.link,preview:!1,placeholder:r.a.createElement(E.a,{tip:"Loading..."})})))})),S=function(){var e="https://via.placeholder.com/".concat(300+Math.round(1e3*Math.random()),"x").concat(300+Math.round(1e3*Math.random()),".png"),a=new Image;return a.src=e,a},j=function(e){var a=Object(t.useState)([]),n=Object(s.a)(a,2),i=n[0],l=n[1],o=Object(t.useState)({liked:!1,disliked:!1}),c=Object(s.a)(o,2),v=c[0],E=c[1],y=Object(t.useState)([]),k=Object(s.a)(y,2),C=k[0],j=k[1],w=Object(t.useState)(0),M=Object(s.a)(w,2),x=M[0],I=M[1];Object(t.useEffect)((function(){j((function(){return[[S(),S(),S()]]})),l([S(),S(),S(),S(),S()])}),[]),Object(t.useEffect)((function(){j((function(e){if(e.length>=3)return e;var a=new Array(2+Math.floor(5*Math.random())).fill().map((function(){return S()}));return[].concat(Object(u.a)(e),[a])}))}),[C]);var N=Object(t.useRef)(null),A=Object(t.useCallback)((function(){N.current.innerSlider.slideHandler(0,!0),j((function(e){return l(e[0]),N.current.goTo(0,!0),e.slice(1)})),E({liked:!1,disliked:!1}),I(0)}),[]),B=Object(t.useCallback)((function(){return E({liked:!0,disliked:!1})}),[]),P=Object(t.useCallback)((function(){return E({liked:!1,disliked:!0})}),[]),T=Object(t.useCallback)((function(){return N.current.prev()}),[]),L=Object(t.useCallback)((function(){return N.current.next()}),[]);return Object(p.a)("ArrowUp",T),Object(p.a)("ArrowDown",L),Object(p.a)("ArrowLeft",P),Object(p.a)("ArrowRight",B),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{hoverable:!0,className:"Card",bodyStyle:{display:"none"},actions:[r.a.createElement(d.a,{onClick:T,key:"previous"}),r.a.createElement(m.a,{onClick:L,key:"next"}),r.a.createElement(b.a,{twoToneColor:"red",onClick:P,key:"dislike"}),r.a.createElement(h.a,{onClick:B,key:"like"})],cover:r.a.createElement(g.a,{touchThreshold:12,ref:N,draggable:!0,verticalSwiping:!0,vertical:!0,dots:{className:"dot"},dotPosition:"right",afterChange:Object(t.useCallback)((function(e){return I(e)}),[])},i.map((function(e,a){return a===x?r.a.createElement(O,{link:e.src||"",key:e.src,newLink:A,like:B,dislike:P,liked:v.liked,disliked:v.disliked}):r.a.createElement(O,{link:e.src||"",key:e.src,like:B,dislike:P})})))}))},w=n(274),M=n(172),x=n(142),I=n.n(x),N=n(174),A=n(100),B=n.n(A);B.a.initializeApp({apiKey:"AIzaSyCHo8Ml729QdtUy0PySo8pAf3NeVXRVpqY",authDomain:"serverless-tinder.firebaseapp.com",databaseURL:"https://serverless-tinder.firebaseio.com",projectId:"serverless-tinder",storageBucket:"serverless-tinder.appspot.com",messagingSenderId:"560465901911",appId:"1:560465901911:web:b7dc4a5a54fcdfd1936612",measurementId:"G-NSNZ9D9E9Y"});var P=B.a.auth(),T=B.a.firestore(),L={signInFlow:"popup",signInOptions:[B.a.auth.GoogleAuthProvider.PROVIDER_ID,B.a.auth.EmailAuthProvider.PROVIDER_ID,"anonymous"],tosUrl:"",privacyPolicyUrl:function(){window.location.assign("")},callbacks:{signInSuccessWithAuthResult:function(){return!1}}},_=Object(t.createContext)({user:null});_.displayName="UserContext";var G=function(e){var a=Object(t.useState)(null),n=Object(s.a)(a,2),i=n[0],l=n[1];return Object(t.useEffect)((function(){return P.onAuthStateChanged(function(){var e=Object(N.a)(I.a.mark((function e(a){var n,t,r,i,o,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",l(null));case 2:if(l(a),!a.isAnonymous){e.next=5;break}return e.abrupt("return");case 5:return n=T.doc("users/".concat(a.uid)),e.next=8,n.get();case 8:if(e.sent.exists){e.next=19;break}return t=a.email,r=a.displayName,i=a.photoURL,o=a.emailVerified,c=a.phoneNumber,e.prev=11,e.next=14,n.set({displayName:r,email:t,photoURL:i,emailVerified:o,phoneNumber:c,photos:[]});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.error("Error creating user document",e.t0);case 19:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(a){return e.apply(this,arguments)}}())}),[]),r.a.createElement(_.Provider,{value:i},e.children)},R=function(){var e=Object(t.useContext)(_),a=Object(c.g)(),n=Object(c.h)();return Object(t.useEffect)((function(){var t;if(e){var r=(null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.from)||"/";r&&a.replace(r)}}),[a,n.state,e]),e?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You are already signed in!"),r.a.createElement(w.a,{danger:!0,type:"primary",size:"large",shape:"round",onClick:function(){return P.signOut()}},"Signout")):r.a.createElement(M.StyledFirebaseAuth,{uiConfig:L,firebaseAuth:P})},F=n(63),U=n(113),z=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius, and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos [Keeling] Islands","Colombia","Comoros","Congo Republic","Cook Islands","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","DR Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Korea","North Macedonia","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn Islands","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Samoa","San Marino","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and South Sandwich Islands","South Korea","South Sudan","Spain","Sri Lanka","St Kitts and Nevis","St Vincent and Grenadines","Sudan","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syria","S\xe3o Tom\xe9 and Pr\xedncipe","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","U.S. Minor Outlying Islands","U.S. Virgin Islands","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land"],D=function(e){var a=e.children;return r.a.createElement("div",{className:"text-red-500 text-xs italic"},a)},V=(n(266),function(e){var a=e.options,n=e.name;return r.a.createElement("div",{className:"relative"},r.a.createElement(F.b,{className:"relative",id:n,name:n,as:"select"},r.a.createElement("option",{value:""},"Please Select"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},r.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))}),K=function(e){var a=e.user;return r.a.createElement(F.d,{initialValues:{name:a.displayName||"",livingCountry:a.livingCountry,displayCountry:a.displayCountry},validationSchema:Object(U.a)({name:Object(U.b)().min(2).required(),livingCountry:Object(U.b)().oneOf(z).required(),displayCountry:Object(U.b)().oneOf(z).required()}),onSubmit:function(e){}},r.a.createElement(F.c,{className:"w-full max-w-md mx-auto space-y-3"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement(F.b,{id:"name",name:"name"}),r.a.createElement(F.a,{name:"name",component:D})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"livingCountry"},"Living Country: "),r.a.createElement(V,{options:z,name:"livingCountry"}),r.a.createElement(F.a,{name:"livingCountry",component:D})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"displayCountry"},"Display Country: "),r.a.createElement(V,{options:z,name:"displayCountries"}),r.a.createElement(F.a,{name:"displayCountry",component:D})),r.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-8 ml-auto rounded focus:outline-none focus:shadow-outline",type:"submit"},"Done")))},H=function(e){var a=Object(t.useContext)(_);a.displayName||a.email||a.phoneNumber||a.uid;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{user:a}))},q=n(180),J=function(e){var a=e.children,n=Object(q.a)(e,["children"]),i=Object(t.useContext)(_);return r.a.createElement(c.b,Object.assign({},n,{render:function(e){var n=e.location;return i?a:r.a.createElement(c.a,{to:{pathname:"/signin",state:{from:n}}})}}))},W=n(281),Y=n(282),Z=n(283),X=n(271),Q=n(110),$=n(82),ee=n.n($),ae=function(e){var a=Object(c.g)(),n=Object(c.i)({path:e.to,exact:!0}),i=Object(t.useCallback)((function(){var t;return(null===(t=e.onClick)||void 0===t?void 0:t.call(e))||n||a.push(e.to)}),[a,n,e]);return r.a.createElement("div",{role:"button",tabIndex:0,onKeyPress:i,onClick:i,className:Object(Q.a)(ee.a.MenuItem,n&&ee.a.Active,e.className)},e.icon,e.text&&r.a.createElement("p",null,e.text))},ne=function(e){var a=Object(X.a)(!0),n=Object(s.a)(a,2),i=n[0],l=n[1].toggle,o=Object(t.useContext)(_);return r.a.createElement("div",{className:Object(Q.a)(ee.a.Menu,i&&ee.a.Collapsed)},e.children,o&&r.a.createElement(ae,{className:"text-red-700",onClick:function(){return P.signOut()},text:"Logout",icon:r.a.createElement(W.a,null)}),r.a.createElement(ae,{className:Object(Q.a)(ee.a.Collapse,"justify-center"),onClick:l,icon:i?r.a.createElement(Y.a,null):r.a.createElement(Z.a,null)}))},te=n(284),re=n(285),ie=n(286),le=n(287);var oe=function(){var e=Object(t.useContext)(_);return r.a.createElement(o.a,{basename:"serverless-tinder"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/signin"},r.a.createElement(R,null)),r.a.createElement(J,{path:"/profile"},r.a.createElement(H,null)),r.a.createElement(c.b,{path:"/"},r.a.createElement(j,null))),r.a.createElement(ne,null,e?r.a.createElement(ae,{to:"/profile",icon:r.a.createElement(te.a,null),text:"Profile"}):r.a.createElement(ae,{to:"/signin",icon:r.a.createElement(re.a,null),text:"Login"}),r.a.createElement(ae,{to:"/",active:!0,icon:r.a.createElement(ie.a,null),text:"Home"}),r.a.createElement(ae,{to:"/matches",icon:r.a.createElement(le.a,null),text:"Matches"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null,r.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,a,n){e.exports={Menu:"BottomMenu_Menu__2OhTq",MenuItem:"BottomMenu_MenuItem__1peT1",Active:"BottomMenu_Active__17bZ1",Collapse:"BottomMenu_Collapse__2lWCR",Collapsed:"BottomMenu_Collapsed__1HjO5"}}},[[185,1,2]]]);
//# sourceMappingURL=main.ad26e3ce.chunk.js.map