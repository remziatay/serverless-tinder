(this["webpackJsonpserverless-tinder"]=this["webpackJsonpserverless-tinder"]||[]).push([[0],{124:function(e,a,t){e.exports={Container:"ImagesInput_Container__18_UX",Image:"ImagesInput_Image__1URQC"}},143:function(e,a,t){e.exports={Picture:"Picture_Picture__1x_s1",Container:"Picture_Container__3tI-N"}},187:function(e,a,t){e.exports=t(269)},192:function(e,a,t){},193:function(e,a,t){},194:function(e,a,t){},195:function(e,a,t){},268:function(e,a,t){},269:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),l=t.n(i),o=(t(192),t(193),t(194),t(104)),c=t(17),u=t(114),s=t(25),m=t(281),d=t(282),b=t(283),f=t(284),p=t(280),h=t(275),g=t(273),v=t(276),E=t(272),y=t(278),k=t(143),C=t.n(k);t(195);var O=r.a.memo((function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(!0),c=Object(s.a)(o,2),u=c[0],m=c[1];Object(n.useEffect)((function(){if(!e.disliked&&!e.liked)return m(!1);l("fade-out-to-".concat(e.liked?"right":"left"))}),[e.liked,e.disliked]);var d=e.newLink,b=Object(n.useCallback)((function(){m(!0),d()}),[d]),f=Object(n.useRef)(null),p=Object(n.useCallback)((function(e){f.current={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}}),[]),h=e.like,g=e.dislike,k=Object(n.useCallback)((function(e){var a=e.changedTouches[0].clientX-f.current.x,t=e.changedTouches[0].clientY-f.current.y;if(f.current=null,Math.abs(t)<window.innerHeight/30){var n=window.innerWidth/10;a>n?h():a<-n&&g()}}),[h,g]);return e.link&&r.a.createElement("div",{className:C.a.Picture,onTouchStart:p,onTouchEnd:k},r.a.createElement(y.a,{in:!e.liked&&!e.disliked,timeout:500,classNames:i,onExited:b},u?r.a.createElement("p",null,"\u263a"):r.a.createElement(v.a,{alt:"",className:C.a.Container,src:e.link,preview:!1,placeholder:r.a.createElement(E.a,{tip:"Loading..."})})))})),j=function(){var e="https://via.placeholder.com/".concat(300+Math.round(1e3*Math.random()),"x").concat(300+Math.round(1e3*Math.random()),".png"),a=new Image;return a.src=e,a},w=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)({liked:!1,disliked:!1}),c=Object(s.a)(o,2),v=c[0],E=c[1],y=Object(n.useState)([]),k=Object(s.a)(y,2),C=k[0],w=k[1],S=Object(n.useState)(0),x=Object(s.a)(S,2),I=x[0],M=x[1];Object(n.useEffect)((function(){w((function(){return[[j(),j(),j()]]})),l([j(),j(),j(),j(),j()])}),[]),Object(n.useEffect)((function(){w((function(e){if(e.length>=3)return e;var a=new Array(2+Math.floor(5*Math.random())).fill().map((function(){return j()}));return[].concat(Object(u.a)(e),[a])}))}),[C]);var N=Object(n.useRef)(null),A=Object(n.useCallback)((function(){N.current.innerSlider.slideHandler(0,!0),w((function(e){return l(e[0]),N.current.goTo(0,!0),e.slice(1)})),E({liked:!1,disliked:!1}),M(0)}),[]),P=Object(n.useCallback)((function(){return E({liked:!0,disliked:!1})}),[]),B=Object(n.useCallback)((function(){return E({liked:!1,disliked:!0})}),[]),T=Object(n.useCallback)((function(){return N.current.prev()}),[]),_=Object(n.useCallback)((function(){return N.current.next()}),[]);return Object(p.a)("ArrowUp",T),Object(p.a)("ArrowDown",_),Object(p.a)("ArrowLeft",B),Object(p.a)("ArrowRight",P),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{hoverable:!0,className:"Card",bodyStyle:{display:"none"},actions:[r.a.createElement(m.a,{onClick:T,key:"previous"}),r.a.createElement(d.a,{onClick:_,key:"next"}),r.a.createElement(b.a,{twoToneColor:"red",onClick:B,key:"dislike"}),r.a.createElement(f.a,{onClick:P,key:"like"})],cover:r.a.createElement(g.a,{touchThreshold:12,ref:N,draggable:!0,verticalSwiping:!0,vertical:!0,dots:{className:"dot"},dotPosition:"right",afterChange:Object(n.useCallback)((function(e){return M(e)}),[])},i.map((function(e,a){return a===I?r.a.createElement(O,{link:e.src||"",key:e.src,newLink:A,like:P,dislike:B,liked:v.liked,disliked:v.disliked}):r.a.createElement(O,{link:e.src||"",key:e.src,like:P,dislike:B})})))}))},S=t(277),x=t(176),I=t(84),M=t.n(I);M.a.initializeApp({apiKey:"AIzaSyCHo8Ml729QdtUy0PySo8pAf3NeVXRVpqY",authDomain:"serverless-tinder.firebaseapp.com",databaseURL:"https://serverless-tinder.firebaseio.com",projectId:"serverless-tinder",storageBucket:"serverless-tinder.appspot.com",messagingSenderId:"560465901911",appId:"1:560465901911:web:b7dc4a5a54fcdfd1936612",measurementId:"G-NSNZ9D9E9Y"});var N=M.a.auth(),A=M.a.firestore(),P=M.a.storage(),B={signInFlow:"popup",signInOptions:[M.a.auth.GoogleAuthProvider.PROVIDER_ID,M.a.auth.EmailAuthProvider.PROVIDER_ID,"anonymous"],tosUrl:"",privacyPolicyUrl:function(){window.location.assign("")},callbacks:{signInSuccessWithAuthResult:function(){return!1}}},T=Object(n.createContext)({user:null,userInfo:{}});T.displayName="UserContext";var _=function(e){var a=Object(n.useState)(null),t=Object(s.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)({}),c=Object(s.a)(o,2),u=c[0],m=c[1];return Object(n.useEffect)((function(){return N.onAuthStateChanged((function(e){if(!e)return l(null),void m({});(l(e),e.isAnonymous)||A.doc("users/".concat(e.uid)).onSnapshot((function(e){e.exists?m(e.data()):m({})}))}))}),[]),r.a.createElement(T.Provider,{value:{user:i,userInfo:u}},e.children)},L=function(){var e=Object(n.useContext)(T).user,a=Object(c.g)(),t=Object(c.h)();return Object(n.useEffect)((function(){var n;if(e){var r=(null===t||void 0===t||null===(n=t.state)||void 0===n?void 0:n.from)||"/";r&&a.replace(r)}}),[a,t.state,e]),e?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You are already signed in!"),r.a.createElement(S.a,{danger:!0,type:"primary",size:"large",shape:"round",onClick:function(){return N.signOut()}},"Signout")):r.a.createElement(x.StyledFirebaseAuth,{uiConfig:B,firebaseAuth:N})},R=t(74),G=t.n(R),F=t(111),U=t(124),D=t.n(U),z=function(e){var a=e.picture,t=e.setPicture,n=a?"url(".concat(a,")"):"radial-gradient(circle, rgba(66,153,225,1) 0%, rgba(43,108,176,1) 100%)";return r.a.createElement("button",{className:D.a.Image,style:{backgroundImage:n,paddingBottom:"100%"}},r.a.createElement("input",{type:"file",onChange:function(e){return t(URL.createObjectURL(e.target.files[0]))}}))},K=t(285),H=t(279),V=function(e){var a=e.title,t=e.button;return r.a.createElement("div",{className:"flex justify-between items-end border-b pb-1 mb-1"},r.a.createElement("h2",{className:"text-2xl font-semibold tracking-wide m-0"},a),t)},q=function(e){var a=e.children;return r.a.createElement("div",{className:"text-red-500 text-xs italic"},a)};function Y(e,a){if(!e.isAnonymous)return A.doc("users/".concat(e.uid)).update({pictures:a})}var W=function(){var e=Object(n.useContext)(T),a=e.user,t=e.userInfo,i=Object(n.useState)(!1),l=Object(s.a)(i,2),o=l[0],c=l[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),b=d[0],f=d[1],p=Object(n.useState)(new Array(6).fill("")),h=Object(s.a)(p,2),g=h[0],v=h[1];Object(n.useEffect)((function(){t.pictures?v(new Array(6).fill("").map((function(e,a){return t.pictures[a]}))):v(new Array(6).fill(""))}),[o,t.pictures]);var E=function(){var e=Object(F.a)(G.a.mark((function e(){var t,n,r;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,t=P.ref("userPictures/"),n=function(e){return"".concat(a.uid,"/").concat(Object(H.a)(),".").concat(e.match(/image\/(.*)/)[1])},r=g.map((function(e){return e.startsWith("blob")?fetch(e).then((function(e){return e.blob()})).then((function(e){return t.child(n(e.type)).put(e)})):Promise.resolve(e)})),e.next=7,Promise.all(r).then((function(e){return Promise.all(e.map((function(e){var a;return(null===(a=e.ref)||void 0===a?void 0:a.getDownloadURL())||Promise.resolve(e)})))}));case 7:return r=e.sent,e.next=10,Y(a,r);case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),c(e.t0),setTimeout((function(){return c(!1)}),2500),console.error("Something went wrong!",e.t0);case 17:return e.prev=17,f(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,12,17,20]])})));return function(){return e.apply(this,arguments)}}(),y=r.a.createElement("button",{onClick:E,disabled:b,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 w-1/5 rounded focus:outline-none focus:shadow-outline"},b?r.a.createElement(K.a,{spin:!0,style:{color:"red"}}):"Save");return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{title:"Your Pictures",button:y}),o&&r.a.createElement(q,null,o.message),!t.name&&r.a.createElement(q,null,"You must fill your information before uploading pictures!"),r.a.createElement("div",{className:D.a.Container},g.map((function(e,a){return r.a.createElement(z,{key:e||a,picture:e,setPicture:(t=a,function(e){v((function(a){return[].concat(Object(u.a)(a.slice(0,t)),[e],Object(u.a)(a.slice(t+1)))}))})});var t}))))},J=t(151),Z=t(53),X=t(102),Q=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Sint Eustatius, and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos [Keeling] Islands","Colombia","Comoros","Congo Republic","Cook Islands","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","DR Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Ivory Coast","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","North Korea","North Macedonia","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn Islands","Poland","Portugal","Puerto Rico","Qatar","Romania","Russia","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Samoa","San Marino","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and South Sandwich Islands","South Korea","South Sudan","Spain","Sri Lanka","St Kitts and Nevis","St Vincent and Grenadines","Sudan","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syria","S\xe3o Tom\xe9 and Pr\xedncipe","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","U.S. Minor Outlying Islands","U.S. Virgin Islands","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land"],$=(t(268),function(e){var a=e.options,t=e.name;return r.a.createElement("div",{className:"relative"},r.a.createElement(Z.b,{className:"relative",id:t,name:t,as:"select"},r.a.createElement("option",{value:""},"Please Select"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},r.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))});function ee(e,a){return ae.apply(this,arguments)}function ae(){return(ae=Object(F.a)(G.a.mark((function e(a,t){var n,r,i=arguments;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(i.length>2&&void 0!==i[2])||i[2],!a.isAnonymous){e.next=3;break}return e.abrupt("return");case 3:return r=A.doc("users/".concat(a.uid)),e.abrupt("return",n?r.update(Object(J.a)({},t)):r.set(Object(J.a)({},t)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){var a=e.user,t=e.userInfo,i=Object(n.useState)(!1),l=Object(s.a)(i,2),o=l[0],c=l[1];return r.a.createElement(Z.d,{enableReinitialize:!0,initialValues:{name:t.name||a.displayName||"",livingCountry:t.livingCountry,displayCountry:t.displayCountry,age:t.age||""},validationSchema:Object(X.b)({name:Object(X.c)().min(2).required(),livingCountry:Object(X.c)().oneOf(Q,"That is not a valid country").required().label("Living Country"),displayCountry:Object(X.c)().oneOf(Q,"That is not a valid country").required().label("Display Country"),age:Object(X.a)().integer().min(18,"You must be at least 18 years old").required().label("Age")}),onSubmit:function(){var e=Object(F.a)(G.a.mark((function e(n){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(a,n,!!t.name);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),c(e.t0),setTimeout((function(){return c(!1)}),2500);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}()},(function(e){return r.a.createElement(Z.c,{className:"space-y-3"},r.a.createElement(V,{title:"Your Info",button:r.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 w-1/5 rounded focus:outline-none focus:shadow-outline",disabled:e.isSubmitting,type:"submit"},e.isSubmitting?r.a.createElement(K.a,{spin:!0,style:{color:"red"}}):"Done")}),o&&r.a.createElement(q,null,o.message),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name: "),r.a.createElement(Z.b,{id:"name",name:"name"}),r.a.createElement(Z.a,{name:"name",component:q})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"livingCountry"},"Living Country: "),r.a.createElement($,{options:Q,name:"livingCountry"}),r.a.createElement(Z.a,{name:"livingCountry",component:q})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"displayCountry"},"Display Country: "),r.a.createElement($,{options:Q,name:"displayCountry"}),r.a.createElement(Z.a,{name:"displayCountry",component:q})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"age"},"Age: "),r.a.createElement(Z.b,{id:"age",name:"age"}),r.a.createElement(Z.a,{name:"age",component:q})))}))},ne=function(){var e=Object(n.useContext)(T),a=e.user,t=e.userInfo;return r.a.createElement(r.a.Fragment,null,a.isAnonymous&&r.a.createElement("h2",{className:"text-xlg text-center"},"Please remember that guests can't save any data or match with anyone",r.a.createElement("span",{role:"img","aria-label":"sad-face"},"\ud83e\udd37\u200d\u2642\ufe0f ")),r.a.createElement("div",{className:"w-full flex gap-5 py-5 flex-col md:flex-row justify-center items-center md:items-start"},r.a.createElement("div",{className:"flex-1 max-w-lg w-full"},r.a.createElement(W,null)),r.a.createElement("div",{className:"flex-1 w-full max-w-xl"},r.a.createElement(te,{user:a,userInfo:t}))))},re=t(182),ie=function(e){var a=e.children,t=Object(re.a)(e,["children"]),i=Object(n.useContext)(T).user;return r.a.createElement(c.b,Object.assign({},t,{render:function(e){var t=e.location;return i?a:r.a.createElement(c.a,{to:{pathname:"/signin",state:{from:t}}})}}))},le=t(286),oe=t(287),ce=t(288),ue=t(274),se=t(113),me=t(83),de=t.n(me),be=function(e){var a=Object(c.g)(),t=Object(c.i)({path:e.to,exact:!0}),i=Object(n.useCallback)((function(){var n;return(null===(n=e.onClick)||void 0===n?void 0:n.call(e))||t||a.push(e.to)}),[a,t,e]);return r.a.createElement("div",{role:"button",tabIndex:0,onKeyPress:i,onClick:i,className:Object(se.a)(de.a.MenuItem,t&&de.a.Active,e.className)},e.icon,e.text&&r.a.createElement("p",null,e.text))},fe=function(e){var a=Object(ue.a)(!0),t=Object(s.a)(a,2),i=t[0],l=t[1].toggle,o=Object(n.useContext)(T).user;return r.a.createElement("div",{className:Object(se.a)(de.a.Menu,i&&de.a.Collapsed)},e.children,o&&r.a.createElement(be,{className:"text-red-700",onClick:function(){return N.signOut()},text:"Logout",icon:r.a.createElement(le.a,null)}),r.a.createElement(be,{className:Object(se.a)(de.a.Collapse,"justify-center"),onClick:l,icon:i?r.a.createElement(oe.a,null):r.a.createElement(ce.a,null)}))},pe=t(289),he=t(290),ge=t(291),ve=t(292),Ee=function(e){return r.a.createElement("h2",{className:"text-center pt-2 pr-4"},"You Don't Have Any Matches ",r.a.createElement("span",{role:"img","aria-label":"sad-face"},"\ud83d\ude1e"))};var ye=function(){var e=Object(n.useContext)(T).user;return r.a.createElement(o.a,{basename:"serverless-tinder"},r.a.createElement("div",{className:"flex flex-col max-w-full max-h-screen h-screen md:flex-row"},r.a.createElement("div",{className:"flex-1 overflow-y-auto px-3"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/signin"},r.a.createElement(L,null)),r.a.createElement(ie,{path:"/profile"},r.a.createElement(ne,null)),r.a.createElement(ie,{path:"/matches"},r.a.createElement(Ee,null)),r.a.createElement(c.b,{path:"/"},r.a.createElement(w,null)))),r.a.createElement(fe,null,e?r.a.createElement(be,{to:"/profile",icon:r.a.createElement(pe.a,null),text:"Profile"}):r.a.createElement(be,{to:"/signin",icon:r.a.createElement(he.a,null),text:"Login"}),r.a.createElement(be,{to:"/",active:!0,icon:r.a.createElement(ge.a,null),text:"Home"}),r.a.createElement(be,{to:"/matches",icon:r.a.createElement(ve.a,null),text:"Matches"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null,r.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,a,t){e.exports={Menu:"BottomMenu_Menu__2OhTq",MenuItem:"BottomMenu_MenuItem__1peT1",Active:"BottomMenu_Active__17bZ1",Collapse:"BottomMenu_Collapse__2lWCR",Collapsed:"BottomMenu_Collapsed__1HjO5"}}},[[187,1,2]]]);
//# sourceMappingURL=main.6d923b9c.chunk.js.map