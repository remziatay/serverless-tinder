{"version":3,"sources":["Components/Picture.module.css","Components/Picture.js","Pages/Home.js","firebase.js","Pages/SignIn.js","countries.js","Pages/Profile.js","Components/PrivateRoute.js","Components/BottomMenu/BottomMenu.js","Components/BottomMenu/MenuItem.js","App.js","serviceWorker.js","index.js","Components/BottomMenu/BottomMenu.module.css"],"names":["module","exports","React","memo","props","useState","animation","setAnimation","animating","setAnimating","useEffect","disliked","liked","_newLink","newLink","useCallback","lastTouch","useRef","touchStart","evt","current","x","changedTouches","clientX","y","clientY","like","dislike","touchEnd","dx","dy","Math","abs","window","innerHeight","slideLimit","innerWidth","link","className","styles","Picture","onTouchStart","onTouchEnd","CSSTransition","in","timeout","classNames","onExited","alt","Container","src","preview","placeholder","tip","randomImage","round","random","image","Image","Home","setCurrent","liking","setLiking","imageCache","setImageCache","imgIndex","setImgIndex","cache","length","randomProfile","Array","floor","fill","map","slider","innerSlider","slideHandler","goTo","slice","previous","prev","next","useKeyPress","hoverable","bodyStyle","display","actions","ArrowUpOutlined","onClick","key","ArrowDownOutlined","DislikeTwoTone","twoToneColor","LikeTwoTone","cover","touchThreshold","ref","draggable","verticalSwiping","vertical","dots","dotPosition","afterChange","c","img","i","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","tosUrl","privacyPolicyUrl","location","assign","callbacks","signInSuccessWithAuthResult","UserContext","createContext","user","displayName","UserProvider","setUser","onAuthStateChanged","a","isAnonymous","userRef","doc","uid","get","exists","email","photoURL","emailVerified","phoneNumber","set","photos","console","error","Provider","value","children","SignIn","useContext","history","useHistory","useLocation","state","from","replace","danger","type","size","shape","signOut","firebaseAuth","countries","Profile","style","width","margin","name","initialValues","onFinish","onFinishFailed","labelCol","span","Item","label","country","Option","float","htmlType","PrivateRoute","rest","render","to","pathname","BottomMenu","Menu","MenuItem","match","useRouteMatch","path","exact","go","push","role","tabIndex","onKeyPress","clsx","Active","icon","text","App","basename","SmileFilled","active","HomeFilled","HeartFilled","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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ACA,gBACA,OACA,UACA,SACA,gBACA,mBACA,8BACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,aACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,oCACA,WACA,YACA,UACA,UACA,QACA,YACA,OACA,OACA,UACA,cACA,SACA,QACA,cACA,UACA,QACA,SACA,SACA,aACA,QACA,WACA,SACA,SACA,aACA,OACA,SACA,UACA,UACA,UACA,QACA,gBACA,YACA,aACA,QACA,aACA,SACA,WACA,WACA,OACA,QACA,mBACA,aACA,aACA,YACA,UACA,SACA,aACA,UACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,UACA,QACA,QACA,cACA,gBACA,cACA,YACA,QACA,UACA,OACA,iBACA,cACA,kBACA,2BACA,SACA,OACA,WACA,QACA,YACA,SACA,mBACA,WACA,OACA,cACA,mBACA,SACA,WACA,cACA,QACA,UACA,SACA,SACA,aACA,sBACA,eACA,cACA,eACA,4BACA,QACA,aACA,eACA,UACA,SACA,aACA,eACA,YACA,eACA,WACA,WACA,kBACA,UACA,eACA,2CACA,cACA,cACA,QACA,YACA,qBACA,4BACA,QACA,WACA,yBACA,SACA,cACA,QACA,iCACA,SACA,aACA,WACA,WACA,cACA,OACA,UACA,QACA,sBACA,UACA,SACA,eACA,2BACA,SACA,8BACA,sBACA,SACA,UACA,uBACA,iBACA,gBACA,UACA,aACA,UACA,eACA,YACA,UACA,oBACA,iBACA,QACA,SACA,WACA,YC/LaC,EAtDC,SAACtK,GACf,IAAMgI,EAAOwB,qBAAW1B,GACxB,OACE,oCACE,kDAAoBE,EAAKC,aAAeD,EAAKY,OAASZ,EAAKe,aAAef,EAAKS,MAC/E,kBAAC,IAAD,CAAQsB,QAAM,EAACC,KAAK,UAAUC,KAAK,QAAQC,MAAM,QAAQ9E,QAAS,kBAAM4B,EAAKmD,YAA7E,WACA,kBAAC,IAAD,CACEI,MAAO,CACLC,MAAO,MACPC,OAAQ,UAEVC,KAAK,QACLC,cAAe,CACbD,KAAM1C,EAAKC,aAEb2C,SAAU,KACVC,eAAgB,KAChBC,SAAU,CAAEC,KAAM,IAElB,kBAAC,IAAKC,KAAN,CACEC,MAAM,OACNP,KAAK,QAEL,kBAAC,IAAD,OAGF,kBAAC,IAAKM,KAAN,CACEC,MAAM,iBACNP,KAAK,WAEL,kBAAC,IAAD,CAAQ1H,YAAY,2BACjBqH,EAAUhG,KAAI,SAAA6G,GAAO,OAAI,kBAAC,IAAOC,OAAR,CAAe9F,IAAK6F,EAAS7B,MAAO6B,GAAUA,QAI5E,kBAAC,IAAKF,KAAN,CACEC,MAAM,kBACNP,KAAK,mBAEL,kBAAC,IAAD,CAAQ1H,YAAY,2BACjBqH,EAAUhG,KAAI,SAAA6G,GAAO,OAAI,kBAAC,IAAOC,OAAR,CAAe9F,IAAK6F,EAAS7B,MAAO6B,GAAUA,QAI5E,kBAAC,IAAKF,KAAN,KACE,kBAAC,IAAD,CAAQT,MAAO,CAAEa,MAAO,SAAWpB,KAAK,UAAUqB,SAAS,UAA3D,c,SCzBKC,EArBM,SAAC,GAA2B,IAAzBhC,EAAwB,EAAxBA,SAAaiC,EAAW,4BACxCvD,EAAOwB,qBAAW1B,GACxB,OACE,kBAAC,IAAD,iBACMyD,EADN,CAEEC,OAAQ,gBAAG9D,EAAH,EAAGA,SAAH,OACNM,EACIsB,EAEA,kBAAC,IAAD,CACEmC,GAAI,CACFC,SAAU,UACV9B,MAAO,CAAEC,KAAMnC,W,iBCLhBiE,EARI,SAAC3L,GAClB,OACE,yBAAKkC,UAAWC,IAAOyJ,MACpB5L,EAAMsJ,W,SCiBEuC,EAlBE,SAAC7L,GAChB,IAAMyJ,EAAUC,cACVoC,EAAQC,YAAc,CAC1BC,KAAMhM,EAAMyL,GACZQ,OAAO,IAGHC,EAAKvL,uBAAY,kBAAMmL,GAASrC,EAAQ0C,KAAKnM,EAAMyL,MAAK,CAAChC,EAASqC,EAAO9L,EAAMyL,KAErF,OACE,yBAAKW,KAAK,SAASC,SAAU,EAAGC,WAAYJ,EAAI9G,QAAS8G,EACvDhK,UAAWqK,YAAKpK,IAAO0J,SAAUC,GAAS3J,IAAOqK,SAChDxM,EAAMyM,KACP,2BAAIzM,EAAM0M,Q,2BCsBDC,OA7Bf,WACE,OACE,kBAAC,IAAD,CAAQC,SAAS,qBACf,kBAAC,IAAD,KAEE,kBAAC,IAAD,CAAOZ,KAAK,WACV,kBAAC,EAAD,OAGF,kBAAC,EAAD,CAAcA,KAAK,YACjB,kBAAC,EAAD,OAGF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,QAKJ,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAUP,GAAG,WAAWgB,KAAM,kBAACI,EAAA,EAAD,MAAgBH,KAAK,YACnD,kBAAC,EAAD,CAAUjB,GAAG,IAAIqB,QAAM,EAACL,KAAM,kBAACM,EAAA,EAAD,MAAeL,KAAK,SAClD,kBAAC,EAAD,CAAUjB,GAAG,WAAWgB,KAAM,kBAACO,EAAA,EAAD,MAAgBN,KAAK,eCjCvCO,QACW,cAA7BpL,OAAO6F,SAASwF,UAEe,UAA7BrL,OAAO6F,SAASwF,UAEhBrL,OAAO6F,SAASwF,SAASpB,MACvB,2DCENqB,IAAS3B,OACP,kBAAC,IAAM4B,WAAP,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJC,SAASC,eAAe,SDyGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA1E,GACLD,QAAQC,MAAMA,EAAM2E,a,mBE5H5BlO,EAAOC,QAAU,CAAC,KAAO,yBAAyB,SAAW,6BAA6B,OAAS,8B","file":"static/js/main.f4c78bfe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Picture\":\"Picture_Picture__1x_s1\",\"Container\":\"Picture_Container__3tI-N\"};","import { Image, Spin } from 'antd'\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport styles from './Picture.module.css'\r\nimport './PictureAnimations.css'\r\n\r\nfunction Picture (props) {\r\n  const [animation, setAnimation] = useState('')\r\n  const [animating, setAnimating] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (!props.disliked && !props.liked) return setAnimating(false)\r\n    setAnimation(`fade-out-to-${props.liked ? 'right' : 'left'}`)\r\n  }, [props.liked, props.disliked])\r\n\r\n  const _newLink = props.newLink\r\n  const newLink = useCallback(() => {\r\n    setAnimating(true)\r\n    _newLink()\r\n  }, [_newLink])\r\n\r\n  const lastTouch = useRef(null)\r\n\r\n  const touchStart = useCallback(evt => {\r\n    lastTouch.current = { x: evt.changedTouches[0].clientX, y: evt.changedTouches[0].clientY }\r\n  }, [])\r\n\r\n  const { like, dislike } = props\r\n  const touchEnd = useCallback(evt => {\r\n    const dx = evt.changedTouches[0].clientX - lastTouch.current.x\r\n    const dy = evt.changedTouches[0].clientY - lastTouch.current.y\r\n    lastTouch.current = null\r\n\r\n    if (Math.abs(dy) < window.innerHeight / 30) {\r\n      const slideLimit = window.innerWidth / 10\r\n      dx > slideLimit ? like() : dx < -slideLimit && dislike()\r\n    } else {\r\n      /* const slideLimit = window.innerHeight / 10\r\n      dy < -slideLimit ? slideNext() : dy > slideLimit && slidePrevious() */\r\n    }\r\n  }, [like, dislike])\r\n\r\n  return (props.link &&\r\n    <div className={styles.Picture} onTouchStart={touchStart} onTouchEnd={touchEnd} >\r\n      <CSSTransition\r\n        in={ !props.liked && !props.disliked }\r\n        timeout={500}\r\n        classNames={animation}\r\n        onExited={newLink}\r\n      >\r\n        {animating ? <p>☺</p> /* Dummy element */\r\n          : <Image\r\n            alt=''\r\n            className={styles.Container}\r\n            src={props.link}\r\n            preview={false}\r\n            placeholder={<Spin tip='Loading...'/>}\r\n          />\r\n        }\r\n      </CSSTransition>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Picture)\r\n","import { ArrowDownOutlined, ArrowUpOutlined, DislikeTwoTone, LikeTwoTone } from '@ant-design/icons'\r\nimport { useKeyPress } from 'ahooks'\r\nimport { Card, Carousel } from 'antd'\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\r\nimport Picture from '../Components/Picture'\r\n\r\nconst randomImage = () => {\r\n  const link = `https://via.placeholder.com/${300 + Math.round(Math.random() * 1000)}x${300 + Math.round(Math.random() * 1000)}.png`\r\n  const image = new Image()\r\n  image.src = link\r\n  return image\r\n}\r\n\r\nconst Home = (props) => {\r\n  const [current, setCurrent] = useState([])\r\n  const [liking, setLiking] = useState({ liked: false, disliked: false })\r\n  const [imageCache, setImageCache] = useState([])\r\n  const [imgIndex, setImgIndex] = useState(0)\r\n\r\n  useEffect(() => {\r\n    setImageCache(() => [[randomImage(), randomImage(), randomImage()]])\r\n    setCurrent([randomImage(), randomImage(), randomImage(), randomImage(), randomImage()])\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setImageCache(cache => {\r\n      if (cache.length >= 3) return cache\r\n      const randomProfile = new Array(2 + Math.floor(Math.random() * 5)).fill().map(() => randomImage())\r\n      return [...cache, randomProfile]\r\n    })\r\n  }, [imageCache])\r\n\r\n  const slider = useRef(null)\r\n\r\n  const newLink = useCallback(() => {\r\n    slider.current.innerSlider.slideHandler(0, true)\r\n    setImageCache(cache => {\r\n      setCurrent(cache[0])\r\n      slider.current.goTo(0, true)\r\n      return cache.slice(1)\r\n    })\r\n    setLiking({ liked: false, disliked: false })\r\n    setImgIndex(0)\r\n  }, [])\r\n\r\n  const like = useCallback(() => setLiking({ liked: true, disliked: false }), [])\r\n  const dislike = useCallback(() => setLiking({ liked: false, disliked: true }), [])\r\n  const previous = useCallback(() => slider.current.prev(), [])\r\n  const next = useCallback(() => slider.current.next(), [])\r\n\r\n  useKeyPress('ArrowUp', previous)\r\n  useKeyPress('ArrowDown', next)\r\n  useKeyPress('ArrowLeft', dislike)\r\n  useKeyPress('ArrowRight', like)\r\n\r\n  return (\r\n    <>\r\n      <Card hoverable className='Card'\r\n        bodyStyle={{ display: 'none' }}\r\n        actions={[\r\n          <ArrowUpOutlined onClick={previous} key='previous'/>,\r\n          <ArrowDownOutlined onClick={next} key='next'/>,\r\n          <DislikeTwoTone twoToneColor={'red'} onClick={dislike} key='dislike'/>,\r\n          <LikeTwoTone onClick={like} key='like'/>\r\n        ]}\r\n        cover={<Carousel touchThreshold={12} ref={slider} draggable verticalSwiping vertical\r\n          dots={{ className: 'dot' }} dotPosition={'right'} afterChange={useCallback(c => setImgIndex(c), [])}>\r\n          {\r\n            current.map((img, i) =>\r\n              i === imgIndex\r\n                ? <Picture link={img.src || ''}\r\n                  key={img.src}\r\n                  newLink={newLink}\r\n                  like={like}\r\n                  dislike={dislike}\r\n                  liked={liking.liked}\r\n                  disliked={liking.disliked}\r\n                /> : <Picture link={img.src || ''}\r\n                  key={img.src}\r\n                  like={like}\r\n                  dislike={dislike}\r\n                />\r\n            )\r\n          }\r\n        </Carousel>}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import firebase from 'firebase'\r\nimport React, { createContext, useEffect, useState } from 'react'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyCHo8Ml729QdtUy0PySo8pAf3NeVXRVpqY',\r\n  authDomain: 'serverless-tinder.firebaseapp.com',\r\n  databaseURL: 'https://serverless-tinder.firebaseio.com',\r\n  projectId: 'serverless-tinder',\r\n  storageBucket: 'serverless-tinder.appspot.com',\r\n  messagingSenderId: '560465901911',\r\n  appId: '1:560465901911:web:b7dc4a5a54fcdfd1936612',\r\n  measurementId: 'G-NSNZ9D9E9Y'\r\n}\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nexport const auth = firebase.auth()\r\nexport const firestore = firebase.firestore()\r\n\r\nexport const uiConfig = {\r\n  signInFlow: 'popup',\r\n  signInOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n    'anonymous'\r\n  ],\r\n  tosUrl: '',\r\n  privacyPolicyUrl: () => { window.location.assign('') },\r\n  callbacks: {\r\n    signInSuccessWithAuthResult: () => false\r\n  }\r\n}\r\n\r\nexport const UserContext = createContext({ user: null })\r\nUserContext.displayName = 'UserContext'\r\n\r\nexport const UserProvider = props => {\r\n  const [user, setUser] = useState(null)\r\n\r\n  useEffect(() => auth.onAuthStateChanged(async user => {\r\n    if (!user) return setUser(null)\r\n    setUser(user)\r\n    if (user.isAnonymous) return\r\n    const userRef = firestore.doc(`users/${user.uid}`)\r\n    const snapshot = await userRef.get()\r\n    if (!snapshot.exists) {\r\n      const { email, displayName, photoURL, emailVerified, phoneNumber } = user\r\n      try {\r\n        await userRef.set({\r\n          displayName,\r\n          email,\r\n          photoURL,\r\n          emailVerified,\r\n          phoneNumber,\r\n          photos: []\r\n        })\r\n      } catch (error) {\r\n        console.error('Error creating user document', error)\r\n      }\r\n    }\r\n  }), [])\r\n\r\n  return (\r\n    <UserContext.Provider value={user}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n","import { Button } from 'antd'\r\nimport React, { useContext, useEffect } from 'react'\r\nimport { StyledFirebaseAuth } from 'react-firebaseui'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { auth, uiConfig, UserContext } from '../firebase'\r\n\r\nconst SignIn = () => {\r\n  const user = useContext(UserContext)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    if (!user || !location?.state) return\r\n    const { from } = location.state\r\n    if (from) history.replace(from)\r\n  }, [history, location.state, user])\r\n\r\n  return (\r\n    user\r\n      ? <>\r\n        <p>You are already signed in!</p>\r\n        <Button danger type=\"primary\" size=\"large\" shape=\"round\" onClick={() => auth.signOut()}>Signout</Button>\r\n      </>\r\n      : <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth}/>\r\n  )\r\n}\r\n\r\nexport default SignIn\r\n","const countries = [\r\n  'Afghanistan',\r\n  'Albania',\r\n  'Algeria',\r\n  'American Samoa',\r\n  'Andorra',\r\n  'Angola',\r\n  'Anguilla',\r\n  'Antarctica',\r\n  'Antigua and Barbuda',\r\n  'Argentina',\r\n  'Armenia',\r\n  'Aruba',\r\n  'Australia',\r\n  'Austria',\r\n  'Azerbaijan',\r\n  'Bahamas',\r\n  'Bahrain',\r\n  'Bangladesh',\r\n  'Barbados',\r\n  'Belarus',\r\n  'Belgium',\r\n  'Belize',\r\n  'Benin',\r\n  'Bermuda',\r\n  'Bhutan',\r\n  'Bolivia',\r\n  'Bonaire, Sint Eustatius, and Saba',\r\n  'Bosnia and Herzegovina',\r\n  'Botswana',\r\n  'Bouvet Island',\r\n  'Brazil',\r\n  'British Indian Ocean Territory',\r\n  'British Virgin Islands',\r\n  'Brunei',\r\n  'Bulgaria',\r\n  'Burkina Faso',\r\n  'Burundi',\r\n  'Cabo Verde',\r\n  'Cambodia',\r\n  'Cameroon',\r\n  'Canada',\r\n  'Cayman Islands',\r\n  'Central African Republic',\r\n  'Chad',\r\n  'Chile',\r\n  'China',\r\n  'Christmas Island',\r\n  'Cocos [Keeling] Islands',\r\n  'Colombia',\r\n  'Comoros',\r\n  'Congo Republic',\r\n  'Cook Islands',\r\n  'Costa Rica',\r\n  'Croatia',\r\n  'Cuba',\r\n  'Curaçao',\r\n  'Cyprus',\r\n  'Czechia',\r\n  'DR Congo',\r\n  'Denmark',\r\n  'Djibouti',\r\n  'Dominica',\r\n  'Dominican Republic',\r\n  'Ecuador',\r\n  'Egypt',\r\n  'El Salvador',\r\n  'Equatorial Guinea',\r\n  'Eritrea',\r\n  'Estonia',\r\n  'Eswatini',\r\n  'Ethiopia',\r\n  'Falkland Islands',\r\n  'Faroe Islands',\r\n  'Fiji',\r\n  'Finland',\r\n  'France',\r\n  'French Guiana',\r\n  'French Polynesia',\r\n  'French Southern Territories',\r\n  'Gabon',\r\n  'Gambia',\r\n  'Georgia',\r\n  'Germany',\r\n  'Ghana',\r\n  'Gibraltar',\r\n  'Greece',\r\n  'Greenland',\r\n  'Grenada',\r\n  'Guadeloupe',\r\n  'Guam',\r\n  'Guatemala',\r\n  'Guernsey',\r\n  'Guinea',\r\n  'Guinea-Bissau',\r\n  'Guyana',\r\n  'Haiti',\r\n  'Heard Island and McDonald Islands',\r\n  'Honduras',\r\n  'Hong Kong',\r\n  'Hungary',\r\n  'Iceland',\r\n  'India',\r\n  'Indonesia',\r\n  'Iran',\r\n  'Iraq',\r\n  'Ireland',\r\n  'Isle of Man',\r\n  'Israel',\r\n  'Italy',\r\n  'Ivory Coast',\r\n  'Jamaica',\r\n  'Japan',\r\n  'Jersey',\r\n  'Jordan',\r\n  'Kazakhstan',\r\n  'Kenya',\r\n  'Kiribati',\r\n  'Kosovo',\r\n  'Kuwait',\r\n  'Kyrgyzstan',\r\n  'Laos',\r\n  'Latvia',\r\n  'Lebanon',\r\n  'Lesotho',\r\n  'Liberia',\r\n  'Libya',\r\n  'Liechtenstein',\r\n  'Lithuania',\r\n  'Luxembourg',\r\n  'Macao',\r\n  'Madagascar',\r\n  'Malawi',\r\n  'Malaysia',\r\n  'Maldives',\r\n  'Mali',\r\n  'Malta',\r\n  'Marshall Islands',\r\n  'Martinique',\r\n  'Mauritania',\r\n  'Mauritius',\r\n  'Mayotte',\r\n  'Mexico',\r\n  'Micronesia',\r\n  'Moldova',\r\n  'Monaco',\r\n  'Mongolia',\r\n  'Montenegro',\r\n  'Montserrat',\r\n  'Morocco',\r\n  'Mozambique',\r\n  'Myanmar',\r\n  'Namibia',\r\n  'Nauru',\r\n  'Nepal',\r\n  'Netherlands',\r\n  'New Caledonia',\r\n  'New Zealand',\r\n  'Nicaragua',\r\n  'Niger',\r\n  'Nigeria',\r\n  'Niue',\r\n  'Norfolk Island',\r\n  'North Korea',\r\n  'North Macedonia',\r\n  'Northern Mariana Islands',\r\n  'Norway',\r\n  'Oman',\r\n  'Pakistan',\r\n  'Palau',\r\n  'Palestine',\r\n  'Panama',\r\n  'Papua New Guinea',\r\n  'Paraguay',\r\n  'Peru',\r\n  'Philippines',\r\n  'Pitcairn Islands',\r\n  'Poland',\r\n  'Portugal',\r\n  'Puerto Rico',\r\n  'Qatar',\r\n  'Romania',\r\n  'Russia',\r\n  'Rwanda',\r\n  'Réunion',\r\n  'Saint Barthélemy',\r\n  'Saint Helena',\r\n  'Saint Lucia',\r\n  'Saint Martin',\r\n  'Saint Pierre and Miquelon',\r\n  'Samoa',\r\n  'San Marino',\r\n  'Saudi Arabia',\r\n  'Senegal',\r\n  'Serbia',\r\n  'Seychelles',\r\n  'Sierra Leone',\r\n  'Singapore',\r\n  'Sint Maarten',\r\n  'Slovakia',\r\n  'Slovenia',\r\n  'Solomon Islands',\r\n  'Somalia',\r\n  'South Africa',\r\n  'South Georgia and South Sandwich Islands',\r\n  'South Korea',\r\n  'South Sudan',\r\n  'Spain',\r\n  'Sri Lanka',\r\n  'St Kitts and Nevis',\r\n  'St Vincent and Grenadines',\r\n  'Sudan',\r\n  'Suriname',\r\n  'Svalbard and Jan Mayen',\r\n  'Sweden',\r\n  'Switzerland',\r\n  'Syria',\r\n  'São Tomé and Príncipe',\r\n  'Taiwan',\r\n  'Tajikistan',\r\n  'Tanzania',\r\n  'Thailand',\r\n  'Timor-Leste',\r\n  'Togo',\r\n  'Tokelau',\r\n  'Tonga',\r\n  'Trinidad and Tobago',\r\n  'Tunisia',\r\n  'Turkey',\r\n  'Turkmenistan',\r\n  'Turks and Caicos Islands',\r\n  'Tuvalu',\r\n  'U.S. Minor Outlying Islands',\r\n  'U.S. Virgin Islands',\r\n  'Uganda',\r\n  'Ukraine',\r\n  'United Arab Emirates',\r\n  'United Kingdom',\r\n  'United States',\r\n  'Uruguay',\r\n  'Uzbekistan',\r\n  'Vanuatu',\r\n  'Vatican City',\r\n  'Venezuela',\r\n  'Vietnam',\r\n  'Wallis and Futuna',\r\n  'Western Sahara',\r\n  'Yemen',\r\n  'Zambia',\r\n  'Zimbabwe',\r\n  'Åland'\r\n]\r\n\r\nexport default countries\r\n","import { Button, Input, Select, Form } from 'antd'\r\nimport React, { useContext } from 'react'\r\nimport countries from '../countries'\r\nimport { auth, UserContext } from '../firebase'\r\n\r\nconst Profile = (props) => {\r\n  const user = useContext(UserContext)\r\n  return (\r\n    <>\r\n      <p>{`Signed in as ${user.displayName || user.email || user.phoneNumber || user.uid}`}</p>\r\n      <Button danger type=\"primary\" size=\"large\" shape=\"round\" onClick={() => auth.signOut()}>Signout</Button>\r\n      <Form\r\n        style={{\r\n          width: '50%',\r\n          margin: '0 auto'\r\n        }}\r\n        name=\"basic\"\r\n        initialValues={{\r\n          name: user.displayName\r\n        }}\r\n        onFinish={null}\r\n        onFinishFailed={null}\r\n        labelCol={{ span: 9 }}\r\n      >\r\n        <Form.Item\r\n          label=\"Name\"\r\n          name=\"name\"\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Living Country\"\r\n          name=\"country\"\r\n        >\r\n          <Select placeholder=\"Please select a country\">\r\n            {countries.map(country => <Select.Option key={country} value={country}>{country}</Select.Option>)}\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Display Country\"\r\n          name=\"display-country\"\r\n        >\r\n          <Select placeholder=\"Please select a country\">\r\n            {countries.map(country => <Select.Option key={country} value={country}>{country}</Select.Option>)}\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button style={{ float: 'right' }} type=\"primary\" htmlType=\"submit\">\r\n          Update\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n","import React, { useContext } from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { UserContext } from '../firebase'\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  const user = useContext(UserContext)\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        user\r\n          ? children\r\n          : (\r\n            <Redirect\r\n              to={{\r\n                pathname: '/signin',\r\n                state: { from: location }\r\n              }}\r\n            />\r\n          )\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport styles from './BottomMenu.module.css'\r\n\r\nconst BottomMenu = (props) => {\r\n  return (\r\n    <div className={styles.Menu}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BottomMenu\r\n","import clsx from 'clsx'\r\nimport React, { useCallback } from 'react'\r\nimport { useHistory, useRouteMatch } from 'react-router-dom'\r\nimport styles from './BottomMenu.module.css'\r\n\r\nconst MenuItem = (props) => {\r\n  const history = useHistory()\r\n  const match = useRouteMatch({\r\n    path: props.to,\r\n    exact: true\r\n  })\r\n\r\n  const go = useCallback(() => match || history.push(props.to), [history, match, props.to])\r\n\r\n  return (\r\n    <div role='button' tabIndex={0} onKeyPress={go} onClick={go}\r\n      className={clsx(styles.MenuItem, match && styles.Active)}>\r\n      {props.icon}\r\n      <p>{props.text}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MenuItem\r\n","import React from 'react'\r\nimport './App.css'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport Home from './Pages/Home'\r\nimport SignIn from './Pages/SignIn'\r\nimport Profile from './Pages/Profile'\r\nimport PrivateRoute from './Components/PrivateRoute'\r\nimport BottomMenu from './Components/BottomMenu/BottomMenu'\r\nimport MenuItem from './Components/BottomMenu/MenuItem'\r\nimport { HeartFilled, HomeFilled, SmileFilled } from '@ant-design/icons'\r\n\r\nfunction App () {\r\n  return (\r\n    <Router basename=\"serverless-tinder\">\r\n      <Switch>\r\n\r\n        <Route path=\"/signin\">\r\n          <SignIn/>\r\n        </Route>\r\n\r\n        <PrivateRoute path=\"/profile\">\r\n          <Profile/>\r\n        </PrivateRoute>\r\n\r\n        <Route path=\"/\">\r\n          <Home/>\r\n        </Route>\r\n\r\n      </Switch>\r\n\r\n      <BottomMenu>\r\n        <MenuItem to='/profile' icon={<SmileFilled/>} text='Profile'/>\r\n        <MenuItem to='/' active icon={<HomeFilled/>} text='Home'/>\r\n        <MenuItem to='/matches' icon={<HeartFilled/>} text='Matches'/>\r\n      </BottomMenu>\r\n\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport './reboot.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { UserProvider } from './firebase'\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"BottomMenu_Menu__2OhTq\",\"MenuItem\":\"BottomMenu_MenuItem__1peT1\",\"Active\":\"BottomMenu_Active__17bZ1\"};"],"sourceRoot":""}